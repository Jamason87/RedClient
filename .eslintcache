[{"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\index.tsx":"1","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\App.tsx":"2","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\contexts\\RootContext.tsx":"3","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\auth\\AuthenticatedRoute.tsx":"4","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\Login.tsx":"5","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\Signup.tsx":"6","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\Navbar.tsx":"7","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\Wishlist.tsx":"8","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionTableItem.tsx":"9","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionTable.tsx":"10","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionsList.tsx":"11","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionListItem.tsx":"12","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\Collection.tsx":"13","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\Collections.tsx":"14","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\Home.tsx":"15","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\search\\Search.tsx":"16","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\search\\SearchList.tsx":"17","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionsAdd.tsx":"18","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\funko\\Funko.tsx":"19","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\funko\\FunkoAddToCollection.tsx":"20","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\EditCollectionModal.tsx":"21","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\funko\\FeaturedFunko.tsx":"22","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\Footer.tsx":"23","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\admin\\Admin.tsx":"24"},{"size":463,"mtime":1608752672011,"results":"25","hashOfConfig":"26"},{"size":1842,"mtime":1610487178646,"results":"27","hashOfConfig":"26"},{"size":2516,"mtime":1610506576440,"results":"28","hashOfConfig":"26"},{"size":576,"mtime":1610055711791,"results":"29","hashOfConfig":"26"},{"size":5516,"mtime":1610506697798,"results":"30","hashOfConfig":"26"},{"size":8103,"mtime":1610502954676,"results":"31","hashOfConfig":"26"},{"size":4868,"mtime":1610506667076,"results":"32","hashOfConfig":"26"},{"size":4982,"mtime":1610407579478,"results":"33","hashOfConfig":"26"},{"size":1321,"mtime":1610053152864,"results":"34","hashOfConfig":"26"},{"size":1606,"mtime":1610245316919,"results":"35","hashOfConfig":"26"},{"size":4069,"mtime":1610249355000,"results":"36","hashOfConfig":"26"},{"size":506,"mtime":1610053142499,"results":"37","hashOfConfig":"26"},{"size":6531,"mtime":1610412469985,"results":"38","hashOfConfig":"26"},{"size":2103,"mtime":1610238273977,"results":"39","hashOfConfig":"26"},{"size":558,"mtime":1610411270206,"results":"40","hashOfConfig":"26"},{"size":1349,"mtime":1610411831361,"results":"41","hashOfConfig":"26"},{"size":2404,"mtime":1610507720724,"results":"42","hashOfConfig":"26"},{"size":3156,"mtime":1610507663155,"results":"43","hashOfConfig":"26"},{"size":5218,"mtime":1610321660062,"results":"44","hashOfConfig":"26"},{"size":4575,"mtime":1610507713153,"results":"45","hashOfConfig":"26"},{"size":3631,"mtime":1610406548201,"results":"46","hashOfConfig":"26"},{"size":1500,"mtime":1610503943794,"results":"47","hashOfConfig":"26"},{"size":625,"mtime":1610486230696,"results":"48","hashOfConfig":"26"},{"size":10411,"mtime":1610498265926,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"2p6n5k",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"52"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"52"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"52"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"52"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"52"},"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\index.tsx",[],["108","109"],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\App.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\contexts\\RootContext.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\auth\\AuthenticatedRoute.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\Login.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\Signup.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\Navbar.tsx",["110","111","112","113"],"import { AppBar, Button, IconButton, Toolbar, Typography, createStyles, makeStyles, Theme, MenuItem, Menu } from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { AccountCircle } from \"@material-ui/icons\";\r\nimport { RootContext } from \"./contexts/RootContext\";\r\nimport { Link, Link as RouterLink } from \"react-router-dom\";\r\nimport Admin from \"./admin/Admin\";\r\n\r\ntype NavbarProps = {\r\n\r\n}\r\n\r\ntype NavbarState = {\r\n    classes: any,\r\n    anchorEl: any,\r\n    open: boolean\r\n}\r\n\r\nexport default class Navbar extends Component<NavbarProps, NavbarState> {\r\n    static contextType = RootContext;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            classes: this.useStyles(),\r\n            anchorEl: null,\r\n            open: Boolean(false)\r\n        }\r\n\r\n        this.setState({\r\n            open: Boolean(this.state.anchorEl)\r\n        })\r\n\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleMenu = this.handleMenu.bind(this);\r\n        this.handleLogout = this.handleLogout.bind(this);\r\n    }\r\n\r\n    handleMenu(event: React.MouseEvent<HTMLElement>) {\r\n        this.setState({\r\n            anchorEl: event.currentTarget\r\n        })\r\n    };\r\n\r\n    handleClose() {\r\n        this.setState({\r\n            anchorEl: null\r\n        })\r\n    };\r\n\r\n    handleLogout() {\r\n        this.context.setAuthenticated('false');\r\n        this.context.setAuthBody('');\r\n        this.context.setToken('');\r\n        this.context.setIsAdmin('false')\r\n\r\n        this.setState({\r\n            anchorEl: null\r\n        })\r\n    }\r\n\r\n    useStyles() {\r\n        return makeStyles((theme: Theme) =>\r\n        createStyles({\r\n            root: {\r\n                flexGrow: 1,\r\n            },\r\n            menuButton: {\r\n                marginRight: theme.spacing(2),\r\n            },\r\n            title: {\r\n                flexGrow: 1,\r\n            },\r\n        }),\r\n    );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AppBar position=\"static\" className={this.state.classes.root}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" className={this.state.classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n                        <Link to=\"/\"><img style={{width: '64px'}} src=\"/logo.png\" /></Link>\r\n                    </IconButton>\r\n\r\n                    <div style={{flex: 1}}></div>\r\n    \r\n                    <Button component={RouterLink} to=\"/\" color=\"inherit\">Home</Button>\r\n    \r\n                    {this.context.authenticated === 'true' && (\r\n                            <Button component={RouterLink} to=\"/wishlist\" color=\"inherit\">Wishlist</Button>\r\n                    )}\r\n                    \r\n                    {this.context.authenticated === 'true' && (\r\n                            <Button component={RouterLink} to=\"/collections\" color=\"inherit\">Collections</Button>\r\n                    )}\r\n    \r\n                    {this.context.authenticated !== 'true' && (\r\n                        <Button component={RouterLink} to=\"/login\" color=\"inherit\">Login</Button>\r\n                    )}\r\n    \r\n                    {this.context.authenticated === 'true' && (\r\n                        <div>\r\n                            <IconButton\r\n                                aria-label=\"account of current user\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                onClick={this.handleMenu}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <AccountCircle />\r\n                            </IconButton>\r\n                            <Menu\r\n                                id=\"menu-appbar\"\r\n                                anchorEl={this.state.anchorEl}\r\n                                anchorOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'right',\r\n                                }}\r\n                                keepMounted\r\n                                transformOrigin={{\r\n                                    vertical: 'top',\r\n                                    horizontal: 'right',\r\n                                }}\r\n                                open={Boolean(this.state.anchorEl)}\r\n                                onClose={this.handleClose}\r\n                            >\r\n                                {this.context.isAdmin ? <Link style={{ textDecoration: 'none', color: 'black'}}to=\"/admin\"><MenuItem>Admin</MenuItem></Link> : ''}\r\n                                <MenuItem onClick={this.handleLogout}>Logout</MenuItem>\r\n                            </Menu>\r\n                        </div>\r\n                    )}\r\n                </Toolbar>\r\n            </AppBar>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\Wishlist.tsx",["114","115"],"import { Grid, Card, CardContent, Typography, Button, Table, TableHead, TableRow, TableCell, TableBody, IconButton } from \"@material-ui/core\";\r\nimport { DeleteForever } from \"@material-ui/icons\";\r\nimport Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RootContext } from \"../../contexts/RootContext\";\r\nimport CollectionTable from \"./CollectionTable\";\r\n\r\ntype WishlistProps = {\r\n    component: any\r\n}\r\n\r\ntype WishlistState = {\r\n    funkos: []\r\n    result: any,\r\n    styles: any\r\n}\r\n\r\nexport default class Wishlist extends Component<WishlistProps, WishlistState> {\r\n\r\n    static contextType = RootContext;\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            funkos: [],\r\n            result: null,\r\n            styles: {\r\n                root: {\r\n                    width: '100%'\r\n                }\r\n            },\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadData();\r\n    }\r\n\r\n    loadData() {\r\n        Axios.get(`${this.context.serverUrl}/collection/wishlist`, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                console.log(res.data.wishlist);\r\n\r\n                this.setState({\r\n                    result: res.data.wishlist\r\n                })\r\n\r\n                this.getFunkoData(res.data.wishlist.funkos);\r\n            })\r\n    }\r\n\r\n    getFunkoData(funkoIds: Array<number>) {\r\n        if (funkoIds.length === 0) {\r\n            this.setState({\r\n                funkos: []\r\n            })\r\n        } else {\r\n\r\n        Axios.post(`${this.context.serverUrl}/funko/getall`, { funkoIds })\r\n            .then((res: any) => {\r\n                console.log(res.data.funkos)\r\n\r\n                this.setState({\r\n                    funkos: res.data.funkos\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    deleteFunko(funkoId: number) {\r\n        //REMOVE from the array,\r\n        //Update the collection list to remove the funko\r\n\r\n        let funkos: Array<number> = this.state.funkos.map((f: any) => f.id)\r\n        funkos.splice(funkos.indexOf(funkoId), 1)\r\n        this.getFunkoData(funkos);\r\n\r\n        let axiosData = {\r\n            collectionId: this.state.result.id,\r\n            name: this.state.result.name,\r\n            description: this.state.result.description,\r\n            funkos: funkos\r\n        }\r\n\r\n        Axios.post(`${this.context.serverUrl}/collection/update`, axiosData, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {this.state.result !== null && <Grid container justify=\"center\" spacing={3}>\r\n                    <Grid item xs={8}>\r\n                        <Card style={this.state.styles.root}>\r\n                            <CardContent>\r\n                                <Typography variant=\"h2\">Wishlist</Typography>\r\n                                <hr />\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell>Funkos</TableCell>\r\n                                            <TableCell align=\"right\">Actions</TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        {(this.state.funkos.length !== 0) ?\r\n                                            this.state.funkos.map((funko: any) => {\r\n                                                return (\r\n                                                    <TableRow key={funko.id}>\r\n                                                        <TableCell><Link to={`/funko/${funko.id}`}>{funko.title}</Link></TableCell>\r\n                                                        <TableCell align=\"right\">\r\n                                                            <IconButton onClick={() => {this.deleteFunko(funko.id)}}>\r\n                                                                <DeleteForever />\r\n                                                            </IconButton>\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                )\r\n                                            }) : <Typography variant=\"subtitle1\">You have no funkos in your wishlist, consider adding one to begin.</Typography>\r\n                                        }\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionTableItem.tsx",[],["116","117"],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionTable.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionsList.tsx",["118"],"import classes from \"*.module.css\";\r\nimport { TableContainer, Paper, Table, TableHead, TableRow, TableCell, TableBody, Button, Grid, Modal } from \"@material-ui/core\";\r\nimport Axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RootContext } from '../../contexts/RootContext';\r\nimport CollectionsAdd from \"./CollectionsAdd\";\r\n\r\ntype CollectionsListProps = {\r\n    page: number,\r\n    maxResults: number\r\n}\r\n\r\ntype CollectionsListState = {\r\n    totalResults: number,\r\n    results: Array<any>,\r\n    addModalOpen: boolean\r\n}\r\n\r\nexport default class CollectionsList extends Component<CollectionsListProps, CollectionsListState> {\r\n    static contextType = RootContext;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            totalResults: 0,\r\n            results: [],\r\n            addModalOpen: false\r\n        }\r\n\r\n        this.handleAddModalOpen = this.handleAddModalOpen.bind(this);\r\n        this.handleAddModalClosed = this.handleAddModalClosed.bind(this);\r\n    }\r\n\r\n    loadData() {\r\n        let axiosData = {\r\n            page: this.props.page,\r\n            maxResults: this.props.maxResults\r\n        }\r\n\r\n        Axios.post(`${this.context.serverUrl}/collection/user`, axiosData, {\r\n            headers: {\r\n                'Authorization': this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    totalResults: res.data.data.count,\r\n                    results: res.data.data.rows\r\n                })\r\n\r\n                console.log(res.data.data.rows)\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response)\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadData();\r\n    }\r\n\r\n    componentDidUpdate(prevProps: any) {\r\n        if (prevProps.page !== this.props.page) {\r\n            this.loadData();\r\n        }\r\n    }\r\n\r\n    handleAddModalOpen() {\r\n        this.setState({\r\n            addModalOpen: true\r\n        })\r\n    }\r\n\r\n    handleAddModalClosed() {\r\n        this.setState({\r\n            addModalOpen: false\r\n        })\r\n\r\n        this.loadData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Grid container justify=\"flex-end\">\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={this.handleAddModalOpen}>Add</Button>\r\n                </Grid>\r\n                <TableContainer component={Paper}>\r\n                <Table aria-label=\"simple table\">\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Collection Name</TableCell>\r\n                        <TableCell align=\"left\">Description</TableCell>\r\n                        <TableCell align=\"right\"># of Items</TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {this.state.results.map((result: any) => (\r\n                        <TableRow key={result.id}>\r\n                        <TableCell component=\"th\" scope=\"row\">\r\n                            <Link to={`/collection/${result.id}`}>{result.name}</Link>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{result.description}</TableCell>\r\n                        <TableCell align=\"right\">{0}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n                </TableContainer>\r\n\r\n\r\n\r\n                <Modal\r\n                    open={this.state.addModalOpen}\r\n                    onClose={this.handleAddModalClosed}\r\n                    aria-labelledby=\"simple-modal-title\"\r\n                    aria-describedby=\"simple-modal-description\"\r\n                    style={{display:'flex',alignItems:'center',justifyContent:'center', outline: 0}}\r\n                >\r\n                    <CollectionsAdd closeModal={this.handleAddModalClosed} />\r\n                </Modal>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionListItem.tsx",[],["119","120"],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\Collection.tsx",["121"],"import { Button, Card, CardContent, Grid, IconButton, Modal, Paper, Table, TableBody, TableCell, TableHead, TableRow, Typography } from '@material-ui/core';\r\nimport { DeleteForever } from '@material-ui/icons';\r\nimport Axios from 'axios'\r\nimport React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { RootContext } from '../../contexts/RootContext';\r\nimport EditCollectionModal from './EditCollectionModal';\r\n\r\ntype CollectionProps = {\r\n    match: any,\r\n    history?: any\r\n}\r\n\r\ntype CollectionState = {\r\n    result: any,\r\n    collectionId: number,\r\n    styles: any,\r\n    funkos: Array<any>,\r\n    editCollectionModalOpen: boolean\r\n}\r\n\r\nexport default class Collection extends Component<CollectionProps, CollectionState> {\r\n    static contextType = RootContext;\r\n\r\n    constructor(props: any) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            collectionId: this.props.match.params.collectionId,\r\n            result: null,\r\n            funkos: [],\r\n            styles: {\r\n                root: {\r\n                    width: '100%'\r\n                }\r\n            },\r\n            editCollectionModalOpen: false\r\n        }\r\n\r\n        this.handleEditCollectionModalClosed = this.handleEditCollectionModalClosed.bind(this);\r\n        this.handleEditCollectionModalOpen = this.handleEditCollectionModalOpen.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadData();\r\n    }\r\n\r\n    loadData() {\r\n        Axios.get(`${this.context.serverUrl}/collection/id/${this.state.collectionId}`)\r\n            .then(res => {\r\n                console.log(res.data.data);\r\n\r\n                this.setState({\r\n                    result: res.data.data\r\n                })\r\n\r\n                this.getFunkoData(res.data.data.funkos);\r\n            })\r\n    }\r\n\r\n    getFunkoData(funkoIds: Array<number>) {\r\n        if (funkoIds.length === 0) {\r\n            this.setState({\r\n                funkos: []\r\n            })\r\n        } else {\r\n\r\n        Axios.post(`${this.context.serverUrl}/funko/getall`, { funkoIds })\r\n            .then((res: any) => {\r\n                console.log(res.data.funkos)\r\n\r\n                this.setState({\r\n                    funkos: res.data.funkos\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    deleteFunko(funkoId: number) {\r\n        //REMOVE from the array,\r\n        //Update the collection list to remove the funko\r\n\r\n        let funkos: Array<number> = this.state.funkos.map((f: any) => f.id)\r\n        funkos.splice(funkos.indexOf(funkoId), 1)\r\n        this.getFunkoData(funkos);\r\n\r\n        let axiosData = {\r\n            collectionId: this.state.collectionId,\r\n            name: this.state.result.name,\r\n            description: this.state.result.description,\r\n            funkos: funkos\r\n        }\r\n\r\n        Axios.post(`${this.context.serverUrl}/collection/update`, axiosData, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n    }\r\n\r\n    handleEditCollectionModalOpen() {\r\n        this.setState({\r\n            editCollectionModalOpen: true\r\n        })\r\n    }\r\n\r\n    handleEditCollectionModalClosed(success: boolean, redirect: boolean) {\r\n        this.setState({\r\n            editCollectionModalOpen: false\r\n        })\r\n\r\n        if (success) this.loadData()\r\n        if (redirect) this.props.history.push('/collections')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {this.state.result !== null && <Grid container justify=\"center\" spacing={3}>\r\n                    <Grid item xs={8}>\r\n                        <Card style={this.state.styles.root}>\r\n                            <CardContent>\r\n                                <Typography variant=\"h2\">{this.state.result.name}</Typography>\r\n                                <hr />\r\n                                <Typography variant=\"subtitle1\">{this.state.result.description} - <Button onClick={this.handleEditCollectionModalOpen}>Edit</Button></Typography>\r\n                                <hr />\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell>Funkos</TableCell>\r\n                                            <TableCell align=\"right\">Actions</TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                        {(this.state.funkos.length !== 0) ?\r\n                                            this.state.funkos.map((funko: any) => {\r\n                                                return (\r\n                                                    <TableRow key={funko.id}>\r\n                                                        <TableCell><Link to={`/funko/${funko.id}`}>{funko.title}</Link></TableCell>\r\n                                                        <TableCell align=\"right\">\r\n                                                            <IconButton onClick={() => {this.deleteFunko(funko.id)}}>\r\n                                                                <DeleteForever />\r\n                                                            </IconButton>\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                )\r\n                                            }) : <Typography variant=\"subtitle1\">You have no funkos in this collection, consider adding one to begin.</Typography>\r\n                                        }\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                </Grid>}\r\n                \r\n                <Modal\r\n                    open={this.state.editCollectionModalOpen}\r\n                    onClose={() => this.handleEditCollectionModalClosed(false, false)}\r\n                    aria-labelledby=\"simple-modal-title\"\r\n                    aria-describedby=\"simple-modal-description\"\r\n                    style={{display:'flex',alignItems:'center',justifyContent:'center', outline: 0}}\r\n                >\r\n                    <EditCollectionModal collection={this.state.result} closeModal={this.handleEditCollectionModalClosed} />\r\n                </Modal>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\Collections.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\Home.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\search\\Search.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\search\\SearchList.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\CollectionsAdd.tsx",["122","123","124","125"],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\funko\\Funko.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\funko\\FunkoAddToCollection.tsx",["126","127"],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\collections\\EditCollectionModal.tsx",[],"C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\pages\\funko\\FeaturedFunko.tsx",["128"],"import { Grid, Paper } from '@material-ui/core';\r\nimport Axios from 'axios';\r\nimport React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { RootContext } from '../../contexts/RootContext';\r\n\r\ntype FeaturedFunkoProps = {}\r\ntype FeaturedFunkoState = {\r\n    funkos:any\r\n    result:any\r\n}\r\n\r\nexport default class FeaturedFunko extends Component<FeaturedFunkoProps, FeaturedFunkoState> {\r\n    static contextType=RootContext;\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            funkos: [36, 209, 1857, 1747, 332, 136],\r\n            result: null\r\n        }\r\n    }\r\n\r\n    componentDidMount (){\r\n        Axios.post(`${this.context.serverUrl}/funko/getall`, {\r\n            funkoIds: this.state.funkos\r\n        })\r\n            .then(res => {\r\n                console.log(res.data.funkos)\r\n\r\n                this.setState({\r\n                    result: res.data.funkos\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Grid container>\r\n                    <Grid item xs={12} container justify=\"space-around\"><h2>Featured Funkos</h2></Grid>\r\n                    {this.state.result !== null && this.state.result.map((r: any) => {\r\n                        return <Grid item xs={2}><Link to={`/funko/${r.id}`}><img style={{width: '100%'}} alt={r.handle} src={r.imageName}/></Link></Grid>\r\n                    })}\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\Footer.tsx",["129"],"import { Grid, Typography } from '@material-ui/core'\r\nimport React, { Component } from 'react'\r\n\r\nexport default class Footer extends Component {\r\n    render() {\r\n        return (\r\n            <div style={{\r\n                marginTop: 'auto',\r\n            }}>\r\n                <Grid container justify=\"space-around\">\r\n                    <img style={{width: '200px'}} src=\"/logo.png\" />\r\n                </Grid>\r\n                <Grid container justify=\"space-around\">\r\n                    <Typography variant=\"caption\">&copy; 2021 Joshua Mason</Typography>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Josh Mason\\Desktop\\WDOctober2020\\RedBadgeFunko\\client\\src\\components\\admin\\Admin.tsx",["130","131","132"],"import { Button, Card, CardContent, CardHeader, Collapse, Grid, IconButton, Paper, Table, TableBody, TableCell, TableHead, TableRow, TextField } from '@material-ui/core';\r\nimport { DeleteForever, ExpandMore, SupervisorAccount, Visibility } from '@material-ui/icons';\r\nimport { Pagination } from '@material-ui/lab';\r\nimport Axios from 'axios';\r\nimport React, { Component } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { StringLiteral } from 'typescript';\r\nimport { RootContext } from '../contexts/RootContext';\r\n\r\ntype AdminProps = {}\r\ntype AdminState = {\r\n    iUsername: string,\r\n    userExpanded: boolean,\r\n    userPage: number,\r\n    users: Array<any>,\r\n    maxUserPage: number,\r\n    userData: any\r\n}\r\n\r\nexport default class Admin extends Component<AdminProps, AdminState> {\r\n    static contextType = RootContext;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            iUsername: '',\r\n            userExpanded: false,\r\n            userPage: 1,\r\n            users: [],\r\n            maxUserPage: 0,\r\n            userData: null\r\n        }\r\n\r\n        this.handleExpand = this.handleExpand.bind(this);\r\n        this.deleteUser = this.deleteUser.bind(this);\r\n        this.showUser = this.showUser.bind(this);\r\n        this.adminUpdate = this.adminUpdate.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadUserPage()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: any, prevState: any) {\r\n        if (prevState.userPage !== this.state.userPage) {\r\n            this.loadUserPage();\r\n        }\r\n    }\r\n\r\n    loadUserPage() {\r\n        let axiosData = {\r\n            page: this.state.userPage\r\n        }\r\n\r\n        Axios.post(`${this.context.serverUrl}/user/all`, axiosData, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    users: res.data.rows,\r\n                    maxUserPage: Math.ceil(res.data.count / 10)\r\n                })\r\n\r\n                console.log(res.data)\r\n            })\r\n    }\r\n\r\n    deleteUser(id: number) {\r\n        Axios.get(`${this.context.serverUrl}/user/delete/${id}`, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.loadUserPage();\r\n            })\r\n    }\r\n\r\n    showUser(id: number) {\r\n        Axios.get(`${this.context.serverUrl}/user/id/${id}`, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    userData: res.data\r\n                })\r\n            })\r\n    }\r\n\r\n    deleteCollection(id: number) {\r\n        Axios.get(`${this.context.serverUrl}/collection/delete/${id}`, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.showUser(this.state.userData.user.id);\r\n            })\r\n    }\r\n\r\n    adminUpdate() {\r\n        let user = this.state.userData.user;\r\n\r\n        user.isAdmin = !user.isAdmin\r\n\r\n        Axios.post(`${this.context.serverUrl}/user/update`, user, {\r\n            headers: {\r\n                \"Authorization\": this.context.token\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.showUser(user.id);\r\n                this.loadUserPage()\r\n            })\r\n    }\r\n\r\n    handleExpand() {\r\n        this.setState({\r\n            userExpanded: !this.state.userExpanded\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (!this.context.isAdmin) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Grid container justify=\"space-around\">\r\n                    <Grid item xs={8} component={Paper} style={{ padding: '30px' }}>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={12}>\r\n                                <Card>\r\n                                    <CardHeader title=\"Users\" action={\r\n                                        <IconButton>\r\n                                            <ExpandMore style={\r\n                                                this.state.userExpanded ? { transform: 'rotate(180deg)' } : {}\r\n                                            } onClick={this.handleExpand} />\r\n                                        </IconButton>\r\n                                    } />\r\n                                    <Collapse in={this.state.userExpanded}>\r\n                                        <CardContent>\r\n                                            <Table>\r\n                                                <TableHead>\r\n                                                    <TableRow>\r\n                                                        <TableCell>Name</TableCell>\r\n                                                        <TableCell align=\"right\">Actions</TableCell>\r\n                                                    </TableRow>\r\n                                                </TableHead>\r\n                                                <TableBody>\r\n                                                    {this.state.users.map((u) => {\r\n                                                        return (\r\n                                                            <TableRow>\r\n                                                                <TableCell>{u.username} {u.isAdmin ? '(ADMIN)': ''}</TableCell>\r\n                                                                <TableCell align=\"right\">\r\n                                                                    <IconButton onClick={() => this.showUser(u.id)}>\r\n                                                                        <Visibility />\r\n                                                                    </IconButton>\r\n                                                                    <IconButton onClick={() => this.deleteUser(u.id)}>\r\n                                                                        <DeleteForever />\r\n                                                                    </IconButton>\r\n                                                                </TableCell>\r\n                                                            </TableRow>\r\n                                                        );\r\n                                                    })}\r\n                                                </TableBody>\r\n                                            </Table>\r\n\r\n                                            <Grid container justify=\"space-around\">\r\n                                                <Pagination count={\r\n                                                    Math.ceil(this.state.maxUserPage)\r\n                                                } defaultPage={1} siblingCount={1} boundaryCount={1} page={this.state.userPage} onChange={(e, v) => {\r\n                                                    this.setState({\r\n                                                        userPage: v\r\n                                                    })\r\n                                                }} />\r\n                                            </Grid>\r\n                                        </CardContent>\r\n                                    </Collapse>\r\n                                </Card>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                {this.state.userData !== null &&\r\n                                    <Card>\r\n                                        <CardHeader title={this.state.userData.user.username}\r\n                                            subheader={this.state.userData.user.email}\r\n                                            action={\r\n                                                <IconButton onClick={this.adminUpdate}>\r\n                                                    <SupervisorAccount color={this.state.userData.user.isAdmin ? 'secondary':'primary'}/>\r\n                                                </IconButton>\r\n                                            } />\r\n                                        <CardContent>\r\n                                            <Table>\r\n                                                <TableHead>\r\n                                                    <TableRow>\r\n                                                        <TableCell>Collection Name</TableCell>\r\n                                                        <TableCell align=\"right\">Actions</TableCell>\r\n                                                    </TableRow>\r\n                                                </TableHead>\r\n                                                <TableBody>\r\n                                                    {this.state.userData.collections.map((c: any) => {\r\n                                                        return (<TableRow>\r\n                                                            <TableCell>\r\n                                                                <Link to={`/collection/${c.id}`}>{c.name}</Link>\r\n                                                            </TableCell>\r\n                                                            <TableCell align=\"right\">\r\n                                                                <IconButton onClick={() => {\r\n                                                                    this.deleteCollection(c.id);\r\n                                                                }}>\r\n                                                                    <DeleteForever />\r\n                                                                </IconButton>\r\n                                                            </TableCell>\r\n                                                        </TableRow>);\r\n                                                    })}\r\n                                                </TableBody>\r\n                                            </Table>\r\n                                        </CardContent>\r\n                                    </Card>\r\n                                }\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}",{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":1,"column":47,"nodeType":"139","messageId":"140","endLine":1,"endColumn":57},{"ruleId":"137","severity":1,"message":"141","line":3,"column":8,"nodeType":"139","messageId":"140","endLine":3,"endColumn":16},{"ruleId":"137","severity":1,"message":"142","line":7,"column":8,"nodeType":"139","messageId":"140","endLine":7,"endColumn":13},{"ruleId":"143","severity":1,"message":"144","line":84,"column":38,"nodeType":"145","endLine":84,"endColumn":85},{"ruleId":"137","severity":1,"message":"146","line":1,"column":47,"nodeType":"139","messageId":"140","endLine":1,"endColumn":53},{"ruleId":"137","severity":1,"message":"147","line":7,"column":8,"nodeType":"139","messageId":"140","endLine":7,"endColumn":23},{"ruleId":"133","replacedBy":"148"},{"ruleId":"135","replacedBy":"149"},{"ruleId":"137","severity":1,"message":"150","line":1,"column":8,"nodeType":"139","messageId":"140","endLine":1,"endColumn":15},{"ruleId":"133","replacedBy":"151"},{"ruleId":"135","replacedBy":"152"},{"ruleId":"137","severity":1,"message":"153","line":1,"column":62,"nodeType":"139","messageId":"140","endLine":1,"endColumn":67},{"ruleId":"137","severity":1,"message":"154","line":1,"column":18,"nodeType":"139","messageId":"140","endLine":1,"endColumn":22},{"ruleId":"137","severity":1,"message":"155","line":1,"column":24,"nodeType":"139","messageId":"140","endLine":1,"endColumn":34},{"ruleId":"137","severity":1,"message":"156","line":1,"column":54,"nodeType":"139","messageId":"140","endLine":1,"endColumn":64},{"ruleId":"137","severity":1,"message":"157","line":56,"column":13,"nodeType":"139","messageId":"140","endLine":56,"endColumn":20},{"ruleId":"137","severity":1,"message":"158","line":2,"column":10,"nodeType":"139","messageId":"140","endLine":2,"endColumn":21},{"ruleId":"159","severity":1,"message":"160","line":49,"column":49,"nodeType":"161","messageId":"162","endLine":49,"endColumn":51},{"ruleId":"137","severity":1,"message":"153","line":1,"column":16,"nodeType":"139","messageId":"140","endLine":1,"endColumn":21},{"ruleId":"143","severity":1,"message":"144","line":11,"column":21,"nodeType":"145","endLine":11,"endColumn":69},{"ruleId":"137","severity":1,"message":"146","line":1,"column":10,"nodeType":"139","messageId":"140","endLine":1,"endColumn":16},{"ruleId":"137","severity":1,"message":"163","line":1,"column":134,"nodeType":"139","messageId":"140","endLine":1,"endColumn":143},{"ruleId":"137","severity":1,"message":"164","line":7,"column":10,"nodeType":"139","messageId":"140","endLine":7,"endColumn":23},"no-native-reassign",["165"],"no-negated-in-lhs",["166"],"@typescript-eslint/no-unused-vars","'Typography' is defined but never used.","Identifier","unusedVar","'MenuIcon' is defined but never used.","'Admin' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Button' is defined but never used.","'CollectionTable' is defined but never used.",["165"],["166"],"'classes' is defined but never used.",["165"],["166"],"'Paper' is defined but never used.","'Grid' is defined but never used.","'makeStyles' is defined but never used.","'withStyles' is defined but never used.","'success' is assigned a value but never used.","'Collections' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'TextField' is defined but never used.","'StringLiteral' is defined but never used.","no-global-assign","no-unsafe-negation"]